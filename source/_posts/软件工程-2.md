---
title: 软件工程(2)
date: 2024-10-23 22:57:52
tags:
    - 学习笔记
---
# 面向对象方法
1. 对象
   - 在软件工程中，一般存在三个对象：客观对象、问题对象和计算机对象
   - 彼此之间的关系为 客观对象（抽象）$\rightarrow$ 问题对象（封装）$\leftrightarrow$ 计算机对象（模拟）
   - 一个对象应该是具有状态、行为和标识符的实体，并且对象之间往往可以通过通信互相交互
   - 对象具有下列4个性质：
     - 自治性
     - 封闭性
     - 通信性
     - 被动性

2. 类
    直接忽略吧，感觉都知道

## UML
### 定义
UML是一中标准的图形化建模语言，它是面向对象分析与设计的一种标准标识
- 它是一种**可视化的建模语言**，不是一种可视化的程序设计语言
- 它是一种**建模语言规格说明**，不是工具或知识库的规格说明

### 结构
- 基本构造块 Basic building block
  - 事物 Thing
  - 关系 Relationship
  - 图   Diagram
- 语义规则 Rule
  - name、scope、visibility、integrity、execution
- 通用机制 Common mechanism
  - specification、adornment（修饰）、common division、extensibility mechanism

### 4+1图
- UML用模型来描述系统的结构（静态特征）以及行为（动态特征）。从不同的视角为系统的架构建模，形成系统的不同视图（view），称为4+1图，**从一个需求的角度出发描述与系统设计的4个维度之间的关系**
![UML视图](/img/软件工程(2)/UML视图.png)
  - **用例视图：表示功能需求**，强调从用户的角度看到的或需要的系统功能。这种视图也叫做用户模型视图（user model view） 或场景视图（scenario view）
  - 逻辑视图： 展现软件系统设计的静态结构的组成及特征，也称为结构模型视图（structural model view） 或静态视图（static view）
  - 进程视图：描述软件系统设计的并发和同步等特性，**关注系统非功能性需求**，也称为行为模型视图（behavioral model view）、过程视图（process view）、 协作视图（collaborative view）和动态视图（dynamic view）
  - 构件视图：关注软件代码的静态组织与管理，也称为实现模型视图（implementation 
model view ）和开发视图（development view）
  - 部署视图：描述硬件的拓扑结构以及软件和硬件的映射问题，关注系统非功能性需求（性能、可靠性等），也称为环境模型视图或物理视图（physical view）；

### 9个基本图
-  用例图（Use case diagram）：（从用户的角度）描述系统的功能；
- 类图（Class diagram）：描述系统的静态结构（类及其相互关系）；
- 对象图（Object diagram）： 描述系统在某个时刻的静态结构（对象及其相互关系）；
- 顺序/序列图（Sequence diagram）：按时间顺序描述系统元素间的交互；
- 协作图（Collaboration diagram）：按照时间和空间的顺序描述系统元素间的交互和它们之间
的关系；
- 状态图（State diagram）：描述了系统元素（对象）的状态条件和响应；
- 活动图（Activity diagram）：描述了系统元素之间的活动；
- 构件图（Component diagram）：描述了实现系统的元素（类或包）组织；
- 部署图（Deployment diagram）：描述了环境元素的配置并把实现系统的元素映射到配置上
![基本图分类(1)](/img/软件工程(2)/UML9个基本图(1).png)
![基本图分类(2)](/img/软件工程(2)/UML9个基本图(2).png)

值得注意的是，对于其中这些内容，在考题中往往是以其他视图的要求提出，所以UML视图与图之间的关系为：
- **用例视图：使用用例图；**
- **逻辑视图：使用类图、对象图，顺序图/协作图；**
- 进程视图：使用状态图和活动图；
- 构件视图：使用构件图；
- 部署视图：使用部署图
下面给出一些示例：
- 用例图
![用例图](/img/软件工程(2)/用例图.png)
- 类图
![类图](/img/软件工程(2)/类图.png)
- 对象图
![对象图](/img/软件工程(2)/对象图.png)
- 组件/构件图
![组件图](/img/软件工程(2)/组件图.png)
- 部署图
![部署图](/img/软件工程(2)/部署图.png)
- 状态图
![状态图](/img/软件工程(2)/状态图.png)
- 活动图
![活动图](/img/软件工程(2)/活动图.png)
- 序列/顺序图
![顺序图](/img/软件工程(2)/顺序图.png)
- 协作图
![协作图](/img/软件工程(2)/协作图.png)

## 领域分析模型
领域模型表示了需求分析阶段“当前系统”逻辑模型的静态结构。其针对某一特定领域内概念类或者对象的抽象可视化表示。
领域模型主要用于概括地描述业务背景及重要的业务流程，帮助软件开发人员
在短时间内尽快了解业务。
- **业务背景**：可由用户需求说明书或者调研报告中具有代表业务概念或者业务对象的词汇获得，这些词汇可统称为“概念类”；并通过能够代表关系的词汇建立概念类之间的关系，表示成能够代表业务知识结构的**类图**；
- **业务流程**：一般由提交请求的角色及提供服务的对象所执行的活动（活动及任务节点）构成，活动的输出一般有数据对象和传给另一个活动的消息组成，建议使用UML的**活动图**进行描述。

### 创建领域分析模型
- 理解领域模型对理解系统需求至关重要，领域模型的创建步骤如下：
  - 第1步，找出当前需求中的候选概念类；
  - 第2步，在领域模型中描述这些概念类。用问题域中的词汇对概念类进行命名，将与当前需求无关的概念类排除在外。
  - 第3步，在概念类之间添加必要的关联来记录那些需要保存记忆的关系，概念之间的关系用关联、继承、组合/聚合来表示。
  - 第4步，构建UML类图
  - 第5步，在概念类中添加用来实现需求的必要属性。
- 对于一个领域分析模型，其中的关联一般分为两种：
  - “需要知道”型关联：需要将概念之间的关系信息保持一段时间的关联。领域模型中需要着重考虑。
  - “只需理解”型关联：有助于增强对领域中关键概念的理解的关联。
-  寻找关联时要遵循下述指导原则：
   - 将注意力集中在需要知道型关联。
   - 识别概念类比识别关联更重要，因此领域模型创建过程中应该更加注重概念
类的识别。
   - 太多的关联不仅不能有效地表示领域模型，反而容易使领域模型变得混乱。
   - 避免显示冗余或导出关联。
此处给出一个医院挂号处模型进行参考
![医院挂号处](/img/软件工程(2)/医院挂号处.png)

### UML类图的组成
- UML类图用于描述类以及类之间的关系。
- 类包含三个部分：
  - 类名：表示问题域中的概念，含义清晰准确
  - 属性：可见性 属性名：类型名= 初始值 {性质串}
  - 操作：可见性 操作名（参数表）：返回值类型 {性质串}
- 类的关系有：
  - 关联：普通关联、导航关联、递归关联
  - 组合与聚合
  - 依赖和继承
UML类图中的一个单位，其结构如下图
![UML类结构](/img/软件工程(2)/UML类结构.png)
其中应该包含上面的属性和下面部分的方法内容 
![UML类_属性](/img/软件工程(2)/UML类_属性.png)
![UML类_方法](/img/软件工程(2)/UML类_方法.png)
![UML类_类和接口](/img/软件工程(2)/UML类_类和接口.png)
![UML类_继承和实现](/img/软件工程(2)/UML类_继承和实现.png)
![UML类_关联和依赖](/img/软件工程(2)/UML类_关联和依赖.png)
![UML类_组合和聚合](/img/软件工程(2)/UML类_组合和聚合.png)

关系箭头总览如下图
![关系箭头总览](/img/软件工程(2)/关系箭头总览.png)
关联箭头总览
![关联箭头总览](/img/软件工程(2)/关联箭头总览.png)

下面给出几个关联图案例
![油画关系图](/img/软件工程(2)/油画关系图.png)
![自然界UML图](/img/软件工程(2)/自然界UML图.png)

## 用例模型
- 用例模型由以下四个部分组成：
  - 用例图；
  - 用例说明；
  - 系统顺序图（system sequence diagram，option）；
  - 操作契约（operation contract，option）;
- 以用例为核心从使用者的角度描述和解释待构建系统的功能需求
用例模型的基本结构图如下：
![用例模型基本结构](/img/软件工程(2)/用例模型基本结构.png)

- 用例图由三个基本元素组成
  - Actor：称为角色或者参与者，表示使用系统的对象，代表角色的不一定是人，
也可以是组织、系统或设备；
  - Use_case：称为用例，描述角色如何使用系统功能实现需求目标的一组成功
场景和一系列失败场景的集合；
  - Association：表示角色与用例之间的关系，以及用例和子用例之间的关系；
 
### 基本用例和子用例
- 基本用例：与角色直接相关的用例，表示系统的功能需求；
- 子用例：通过场景描述分析归纳出的用例，也表示了系统的功能，是基本用例的一个组成部分；
  - 包含子用例：多个基本用例中的某个与角色交互的场景具有相同的操作，且这些场景都是基本用例中必须执行的步骤，可以将其抽取出来作为基本用例的子用例；
    ![基本用例与子用例(1)](/img/软件工程(2)/基本用例与子用例(1).png)
  - 扩展子用例：（多个）基本用例中的某些场景存在相同的条件判断的情况，可以将其抽取出作为基本用例的子用例；
    ![基本用例与子用例(2)](/img/软件工程(2)/基本用例与子用例(2).png)

### 关系类型及其说明以及表示符号
![关系类型及其说明以及表示符号](/img/软件工程(2)/关系类型及其说明以及表示符号.png)

### 系统顺序图
- 使用UML的sequence diagram描述角色与系统之间的
交互场景实例；
- 在用例描述的基础上需进一步确定角色与系统之间的交互信息，并以可编程的方式将其命名；
- 系统顺序图中“一般”只需要三个UML的符号元素
  - 顺序图中的对象图标：<类名：对象名>
  - 角色，类的特殊标识；
  - 代表软件系统的对象，一般使用system或者系统命名；
  - 角色与system之间的交互信息，简称消息或操作；
    - 同步消息：请求必须有应答才能发送后续消息；
    - 异步消息：无须等待消息应答就可发送其他消息；
    - 创建消息：创建一个对象实例的消息，SSD中不需要；
    - 删除消息：删除一个对象实例的消息。
    ![系统顺序图(1)](/img/软件工程(2)/系统顺序图(1).png)
    ![系统顺序图(2)](/img/软件工程(2)/系统顺序图(2).png)

> 注意：
> 1. SSD是用于替代用例说明文本的一种方式；
> 2. 图中只有两个对象，表示角色对象与系统对象；
> 3. 图中的消息名称及参数要求以可编程的方式命名；
> 4. 消息名称和参数可以通过一个列表使用中文说明具体含义；
> 5. 用例图中的每个用例都应该对应一张SSD；
> 6. 角色发给系统的指令（系统事件）是操作契约关注的元素~

- 系统操作：即角色发给系统对象的请求，也称为系统事件；
- 操作契约：契约的含义表示该系统接收到该系统请求后，为了能够得到按照约定必须返回的结果，该系统内规定必须有哪些业务对象（参考领域模型中的概念类）必须被激活、关联（协同）并记录哪些必须持久保存的数据（概念类属性值的改变）。它是后续软件设计活动中确定软件对象的参考依据

![操作契约](/img/软件工程(2)/操作契约.png)

- 创建操作契约的指导原则如下： 
  - 根据系统顺序图识别进入到系统内的所有系统事件，即操作；
  - 针对每一个系统操作结合对应的领域模型，找到与此操作相关的概念类；
  - 定义概念类响应该操作的以下三项内容；
    - 对象实例创建和删除；
    - 对象关联形成和断开；
    - 对象属性修改。
  - 后置条件中至少有一项存在，该操作才有存在的必要性！
  - 后置条件的陈述应该是声明性的，以强调系统状态所发生的变化，无需考虑如何设计和实现的。